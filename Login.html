<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login Ahorros</title>
    <style>
        /* Estilos Base */
        body, html {
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: #050a18; /* Color de respaldo */
            font-family: 'Segoe UI', sans-serif;
            overflow: hidden;
        }

        /* Capa del Mapa de Fondo */
        .background-map {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            /* Imagen de mapa mundial con estilo tecnol√≥gico */
            background-image: linear-gradient(rgba(5, 10, 24, 0.3), rgba(5, 10, 24, 0.3)), 
                              url('./mapa.jpeg');
            background-size: cover;
            background-position: center;
            filter: brightness(0.9) contrast(1.1);
            z-index: 0;
            animation: moveMap 120s linear infinite alternate;
        }

        /* Contenedor del C√≠rculo y Login */
        .container {
            position: relative;
            width: 750px;
            height: 750px;
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1;
        }

        /* C√≠rculo con animaci√≥n de carga (Rayitas) */
        .outer-ring {
            position: absolute;
            width: 100%;
            height: 100%;
            border-radius: 50%;
            border: 15px dashed #00d4ff; /* El efecto de segmentos */
            box-shadow: 0 0 30px rgba(0, 212, 255, 0.5), inset 0 0 30px rgba(0, 212, 255, 0.3);
            animation: rotateRing 15s linear infinite, colorChange 8s linear infinite;
        }

        /* C√≠rculo interior fino */
        .inner-ring {
            position: absolute;
            width: 82%;
            height: 82%;
            border-radius: 50%;
            border: 2px solid rgba(0, 212, 255, 0.2);
        }

        @keyframes rotateRing {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        @keyframes moveMap {
            0% { background-position: 0% 50%; }
            100% { background-position: 100% 50%; }
        }

        @keyframes colorChange {
            0% { border-color: #00d4ff; box-shadow: 0 0 30px rgba(0, 212, 255, 0.5), inset 0 0 30px rgba(0, 212, 255, 0.3); }
            25% { border-color: #ff00d4; box-shadow: 0 0 30px rgba(255, 0, 212, 0.5), inset 0 0 30px rgba(255, 0, 212, 0.3); }
            50% { border-color: #d4ff00; box-shadow: 0 0 30px rgba(212, 255, 0, 0.5), inset 0 0 30px rgba(212, 255, 0, 0.3); }
            75% { border-color: #00ff9d; box-shadow: 0 0 30px rgba(0, 255, 157, 0.5), inset 0 0 30px rgba(0, 255, 157, 0.3); }
            100% { border-color: #00d4ff; box-shadow: 0 0 30px rgba(0, 212, 255, 0.5), inset 0 0 30px rgba(0, 212, 255, 0.3); }
        }

        /* Caja de Login */
        .login-card {
            position: relative;
            z-index: 10;
            text-align: center;
            width: 300px;
            color: white;
        }

        .login-card h2 {
            font-size: 3rem;
            margin-bottom: 30px;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 5px;
            color: #fff;
            text-shadow: 0 0 10px #00d4ff, 0 0 20px #00d4ff;
            animation: neonPulse 1.5s infinite alternate;
        }

        @keyframes neonPulse {
            0%, 100% {
                text-shadow: 0 0 10px #00d4ff, 0 0 20px #00d4ff, 0 0 40px #00d4ff;
                opacity: 1;
            }
            50% {
                text-shadow: 0 0 5px #00d4ff, 0 0 10px #00d4ff;
                opacity: 0.8;
            }
        }

        /* Inputs Estilizados */
        .input-box {
            width: 100%;
            padding: 14px 20px;
            margin: 12px 0;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(0, 212, 255, 0.4);
            border-radius: 30px;
            color: white;
            font-size: 1rem;
            outline: none;
            box-sizing: border-box;
            backdrop-filter: blur(5px);
            transition: 0.3s;
        }

        .input-box:focus {
            border-color: #00d4ff;
            box-shadow: 0 0 15px rgba(0, 212, 255, 0.6);
            background: rgba(255, 255, 255, 0.1);
        }

        /* Wrapper para el input de contrase√±a y el ojo */
        .password-wrapper {
            position: relative;
            width: 100%;
            margin: 12px 0;
        }

        .password-wrapper .input-box {
            margin: 0;
            padding-right: 45px; /* Espacio para que el texto no tape el icono */
        }

        .toggle-password {
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
            cursor: pointer;
            color: rgba(255, 255, 255, 0.6);
            transition: color 0.3s;
            display: flex;
            align-items: center;
        }

        .toggle-password:hover {
            color: #00d4ff;
        }

        /* Enlaces y Bot√≥n */
        .forgot {
            display: block;
            margin-bottom: 25px;
            color: #aaa;
            text-decoration: none;
            font-size: 0.85rem;
        }

        .forgot:hover { color: #00d4ff; }

        .btn-submit {
            width: 100%;
            padding: 14px;
            border: none;
            border-radius: 30px;
            background: #00d4ff;
            color: #050a18;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            text-transform: capitalize;
            transition: 0.3s;
        }

        .btn-submit:hover {
            background: #fff;
            box-shadow: 0 0 20px #fff;
            transform: scale(1.02);
        }

        .signup {
            display: block;
            margin-top: 20px;
            color: #00d4ff;
            text-decoration: none;
            font-weight: 600;
            letter-spacing: 1px;
        }

        /* Notificaci√≥n Flotante */
        .notification {
            position: fixed;
            top: 20px;
            right: -350px; /* Oculto inicialmente fuera de pantalla */
            background: rgba(5, 10, 24, 0.95);
            border: 1px solid #00d4ff;
            color: #fff;
            padding: 15px 25px;
            border-radius: 10px;
            box-shadow: 0 0 15px rgba(0, 212, 255, 0.3);
            display: flex;
            align-items: center;
            gap: 15px;
            transition: right 0.5s cubic-bezier(0.68, -0.55, 0.27, 1.55); /* Efecto rebote */
            z-index: 1000;
            font-weight: 600;
        }

        /* Ajustes para M√≥vil */
        @media (max-width: 550px) {
            .container {
                width: 450px;
                height: 450px;
            }
            .login-card {
                width: 260px;
            }
            .outer-ring {
                border-width: 10px;
            }
        }

        /* Cr√©ditos del Creador */
        .credits-footer {
            position: fixed;
            bottom: 20px;
            width: 100%;
            text-align: center;
            color: rgba(255, 255, 255, 0.4);
            font-size: 0.9rem;
            z-index: 5;
            letter-spacing: 1px;
        }
        .credits-footer span {
            color: #00d4ff;
            font-weight: 700;
            text-transform: uppercase;
            text-shadow: 0 0 10px rgba(0, 212, 255, 0.5);
            animation: footerPulse 2s infinite alternate;
        }
        @keyframes footerPulse {
            from { text-shadow: 0 0 10px rgba(0, 212, 255, 0.5); transform: scale(1); }
            to { text-shadow: 0 0 20px rgba(0, 212, 255, 0.9); transform: scale(1.05); }
        }
    </style>
</head>
<body>

    <div class="background-map"></div>

    <div class="container">
        <div class="outer-ring"></div>
        <div class="inner-ring"></div>

        <div class="login-card">
            <h2>Login</h2>
            <form novalidate>
                <input type="email" class="input-box" placeholder="Email" required>
                
                <div class="password-wrapper">
                    <input type="password" id="password" class="input-box" placeholder="Password" required minlength="8">
                    <span class="toggle-password" id="togglePassword" title="Mostrar/Ocultar">
                        <!-- Icono de Ojo SVG -->
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="currentColor" viewBox="0 0 16 16">
                            <path d="M16 8s-3-5.5-8-5.5S0 8 0 8s3 5.5 8 5.5S16 8 16 8zM1.173 8a13.133 13.133 0 0 1 1.66-2.043C4.12 4.668 5.88 3.5 8 3.5c2.12 0 3.879 1.168 5.168 2.457A13.133 13.133 0 0 1 14.828 8c-.058.087-.122.183-.195.288-.335.48-.83 1.12-1.465 1.755C11.879 11.332 10.119 12.5 8 12.5c-2.12 0-3.879-1.168-5.168-2.457A13.134 13.134 0 0 1 1.172 8z"/>
                            <path d="M8 5.5a2.5 2.5 0 1 0 0 5 2.5 2.5 0 0 0 0-5zM4.5 8a3.5 3.5 0 1 1 7 0 3.5 3.5 0 0 1-7 0z"/>
                        </svg>
                    </span>
                </div>
                
                <a href="#" class="forgot">Forgot Password?</a>
                
                <button type="submit" class="btn-submit">Login</button>
                
                <a href="#" class="signup">Signup</a>
            </form>
        </div>
    </div>

    <!-- Cr√©ditos -->
    <div class="credits-footer">
        Created by <span>Antonio Espa√±a</span> | CEO & Founder
    </div>

    <!-- Contenedor de Notificaci√≥n -->
    <div id="notification" class="notification">
        <span id="notif-icon">‚úÖ</span>
        <span id="notif-message">Mensaje</span>
    </div>

    <script>
        const notification = document.getElementById('notification');
        const notifMessage = document.getElementById('notif-message');
        const notifIcon = document.getElementById('notif-icon');

        function showNotification(message, icon = '‚úÖ') {
            notifMessage.innerText = message;
            notifIcon.innerText = icon;
            notification.style.right = '20px'; // Mostrar deslizando
            
            // Ocultar autom√°ticamente despu√©s de 3 segundos
            setTimeout(() => {
                notification.style.right = '-350px'; 
            }, 3000);
        }

        // --- L√ìGICA DE AUTENTICACI√ìN (LOGIN / REGISTRO) ---
        const form = document.querySelector('form');
        const emailInput = document.querySelector('input[type="email"]');
        const passwordInput = document.getElementById('password');
        const title = document.querySelector('h2');
        const submitBtn = document.querySelector('.btn-submit');
        const signupLink = document.querySelector('.signup');
        const forgotLink = document.querySelector('.forgot');

        let isLoginMode = true;

        // 1. Alternar entre Login y Registro
        signupLink.addEventListener('click', (e) => {
            e.preventDefault();
            isLoginMode = !isLoginMode;

            if (isLoginMode) {
                title.innerText = 'LOGIN';
                submitBtn.innerText = 'Login';
                signupLink.innerText = 'Signup';
                forgotLink.style.display = 'block';
            } else {
                title.innerText = 'REGISTRO';
                submitBtn.innerText = 'Registrarse';
                signupLink.innerText = '¬øYa tienes cuenta? Inicia Sesi√≥n';
                forgotLink.style.display = 'none';
            }
        });

        // 2. Manejar el env√≠o del formulario
        form.addEventListener('submit', (e) => {
            e.preventDefault(); // Evita que la p√°gina se recargue
            
            const email = emailInput.value.trim();
            const password = passwordInput.value.trim();

            if (!email || !password) {
                showNotification('Por favor completa todos los campos.', '‚ö†Ô∏è');
                return;
            }

            if (password.length < 8) {
                showNotification('La contrase√±a debe tener al menos 8 caracteres.', 'üîí');
                return;
            }

            // Obtener usuarios de localStorage
            const users = JSON.parse(localStorage.getItem('appUsers')) || [];

            if (isLoginMode) {
                // --- LOGIN ---
                const user = users.find(u => u.email === email && u.password === password);
                
                if (user) {
                    showNotification('¬°Bienvenido de nuevo!', 'üöÄ');
                    localStorage.setItem('currentUser', email); // Guardar sesi√≥n actual
                    // Redirigir al index de ahorros
                    setTimeout(() => {
                        window.location.href = 'index.html';
                    }, 1500);
                } else {
                    showNotification('Correo o contrase√±a incorrectos.', '‚ùå');
                }
            } else {
                // --- REGISTRO ---
                const userExists = users.find(u => u.email === email);
                
                if (userExists) {
                    showNotification('Este correo ya est√° registrado.', '‚ö†Ô∏è');
                } else {
                    // Guardar nuevo usuario
                    users.push({ email, password });
                    localStorage.setItem('appUsers', JSON.stringify(users));
                    localStorage.setItem('currentUser', email); // Guardar sesi√≥n actual
                    
                    showNotification('¬°Registro exitoso! Redirigiendo...', 'üéâ');
                    setTimeout(() => {
                        window.location.href = 'index.html';
                    }, 1500);
                }
            }
        });

        // Simular Recuperar Contrase√±a
        document.querySelector('.forgot').addEventListener('click', () => showNotification('Correo de recuperaci√≥n enviado.', 'üìß'));

        // L√≥gica para Mostrar/Ocultar Contrase√±a
        const togglePassword = document.getElementById('togglePassword');
        // const passwordInput... (ya definido arriba)

        togglePassword.addEventListener('click', () => {
            // Alternar el tipo de input entre password y text
            const type = passwordInput.getAttribute('type') === 'password' ? 'text' : 'password';
            passwordInput.setAttribute('type', type);
            
            // Cambiar color del icono para indicar estado activo
            togglePassword.style.color = type === 'text' ? '#00d4ff' : 'rgba(255, 255, 255, 0.6)';
        });
    </script>
</body>
</html>